<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NBA Pro Analytics</title>
    <style>
        /* --- TEMEL AYARLAR --- */
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --table-hover: #2c2c2c;
            --text-color: #e0e0e0;
            --accent-color: #C9082A; /* NBA Red */
            --secondary-color: #17408B; /* NBA Blue */
            --gold: #FDB927;
            --status-out: #d32f2f;
            --status-dtd: #fbc02d;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden; /* Yan kaymayÄ± engelle */
        }

        /* --- GÄ°RÄ°Åž ANÄ°MASYONU (GÃœVENLÄ°) --- */
        #intro-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: var(--bg-color);
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease-out, visibility 0.5s;
        }

        .logo-container { text-align: center; animation: bounceIn 1.5s ease-in-out forwards; }
        .nba-logo-img { width: 100px; height: auto; }
        .brand-subtitle {
            font-size: 1.5rem; font-weight: 300; letter-spacing: 8px;
            color: var(--text-color); margin-top: 15px; text-transform: uppercase;
            opacity: 0; animation: fadeInText 1s ease-out 1s forwards;
        }

        @keyframes bounceIn {
            0% { transform: scale(0.5); opacity: 0; }
            60% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); }
        }
        @keyframes fadeInText { to { opacity: 1; transform: translateY(0); } }

        /* --- HEADER --- */
        header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 30px; background-color: var(--card-bg);
            border-bottom: 2px solid var(--accent-color);
            position: sticky; top: 0; z-index: 100;
        }

        .header-logo { font-weight: 800; font-size: 1.2rem; color: #fff; letter-spacing: 1px; }

        nav button {
            background: none; border: none; color: #aaa; margin: 0 10px;
            font-size: 0.9rem; cursor: pointer; text-transform: uppercase;
            font-weight: 600; padding: 5px 0; transition: all 0.3s;
        }
        nav button:hover, nav button.active { color: #fff; border-bottom: 2px solid var(--accent-color); }
        .lang-btn { background-color: #333; color: white; border: 1px solid #555; padding: 5px 10px; border-radius: 4px; cursor: pointer; }

        /* --- Ä°Ã‡ERÄ°K --- */
        main { padding: 20px; max-width: 1100px; margin: 0 auto; min-height: 80vh; }
        .section-content { display: none; animation: fadeIn 0.4s ease-in; }
        .section-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        h2 { border-left: 5px solid var(--accent-color); padding-left: 15px; margin-bottom: 20px; }

        /* --- OYUNLAR --- */
        .games-grid { display: grid; gap: 20px; }
        .game-card { background-color: var(--card-bg); border-radius: 10px; overflow: hidden; display: flex; flex-direction: column; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        .matchup-row { display: flex; height: 110px; }
        .team-block { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; position: relative; color: white; text-shadow: 1px 1px 4px rgba(0,0,0,0.9); }
        .team-block::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.25); z-index: 0; }
        .team-content { z-index: 1; text-align: center; }
        .team-logo { width: 55px; height: 55px; margin-bottom: 8px; background: #fff; border-radius: 50%; padding: 4px; }
        .vs-block { width: 60px; background-color: #121212; display: flex; justify-content: center; align-items: center; font-weight: 900; font-style: italic; font-size: 1.2rem; z-index: 2; clip-path: polygon(20% 0%, 100% 0, 80% 100%, 0% 100%); }
        .odds-row { padding: 15px; display: flex; justify-content: space-between; align-items: center; background-color: #252525; font-size: 0.9rem; border-top: 1px solid #333; }
        .prediction-badge { background-color: var(--secondary-color); color: white; padding: 4px 12px; border-radius: 20px; font-weight: bold; font-size: 0.8rem; }

        /* --- TABLO TASARIMLARI (Stats & Injuries) --- */
        .table-container { background-color: var(--card-bg); border-radius: 8px; overflow: hidden; margin-top: 15px; }
        table { width: 100%; border-collapse: collapse; }
        th { background-color: #252525; color: #aaa; font-weight: 600; text-align: left; padding: 15px; font-size: 0.9rem; text-transform: uppercase; }
        td { padding: 15px; border-bottom: 1px solid #333; vertical-align: middle; }
        tr:last-child td { border-bottom: none; }
        tr:hover { background-color: var(--table-hover); }

        /* Stats Player */
        .player-cell { display: flex; align-items: center; gap: 15px; }
        .player-headshot { width: 40px; height: 40px; border-radius: 50%; background-color: #333; object-fit: cover; border: 2px solid var(--accent-color); }
        .stat-value { font-size: 1.1rem; font-weight: bold; color: var(--gold); }
        .stat-filter-btns { margin-bottom: 15px; }
        .filter-btn { background: #333; border: none; color: white; padding: 8px 16px; border-radius: 20px; cursor: pointer; margin-right: 10px; transition: 0.3s; }
        .filter-btn.active { background: var(--secondary-color); }

        /* Injuries Special */
        .status-badge { padding: 4px 10px; border-radius: 4px; font-weight: bold; font-size: 0.8rem; display: inline-block; }
        .status-out { background-color: rgba(211, 47, 47, 0.2); color: #ff6b6b; border: 1px solid var(--status-out); }
        .status-dtd { background-color: rgba(251, 192, 45, 0.2); color: #fdd835; border: 1px solid var(--status-dtd); }
        .injury-desc { font-size: 0.85rem; color: #999; margin-top: 4px; }
        .blink { animation: blinker 2s linear infinite; }
        @keyframes blinker { 50% { opacity: 0.6; } }

        /* Haberler */
        .news-card { background: var(--card-bg); margin-bottom: 15px; padding: 20px; border-radius: 8px; border-left: 4px solid var(--secondary-color); }
    </style>
</head>
<body>
    <div id="intro-overlay">
        <div class="logo-container">
            <img src="https://cdn.nba.com/logos/leagues/logo-nba.svg" alt="NBA Logo" class="nba-logo-img">
            <div class="brand-subtitle">ANALYTICS</div>
        </div>
    </div>

    <header>
        <div class="header-logo">NBA ANALYTICS</div>
        <nav>
            <button onclick="nav('home')" class="nav-btn active" id="btn-home">Home</button>
            <button onclick="nav('games')" class="nav-btn" id="btn-games">Games</button>
            <button onclick="nav('stats')" class="nav-btn" id="btn-stats">Statistics</button>
            <button onclick="nav('injuries')" class="nav-btn" id="btn-injuries">Injuries</button>
            <button onclick="nav('lineups')" class="nav-btn" id="btn-lineups">Lineups</button>
        </nav>
        <button class="lang-btn" onclick="toggleLang()">EN / TR</button>
    </header>

    <main>
        <section id="home" class="section-content active">
            <h2 id="title-news">Latest News</h2>
            <div id="news-container"></div>
        </section>

        <section id="games" class="section-content">
            <h2 id="title-games">Games & Odds</h2>
            <div id="games-container" class="games-grid"></div>
        </section>

        <section id="stats" class="section-content">
            <h2 id="title-stats">Statistics</h2>
            <div class="stat-filter-btns">
                <button class="filter-btn active" onclick="loadStats('PTS')">Points</button>
                <button class="filter-btn" onclick="loadStats('AST')">Assists</button>
                <button class="filter-btn" onclick="loadStats('REB')">Rebounds</button>
            </div>
            <div class="table-container">
                <table>
                    <thead><tr><th width="10%">#</th><th width="50%">Player</th><th width="20%">Team</th><th width="20%">Value</th></tr></thead>
                    <tbody id="stats-body"></tbody>
                </table>
            </div>
        </section>

        <section id="injuries" class="section-content">
            <h2 id="title-injuries">Injuries</h2>
            <div class="table-container">
                <table>
                    <thead><tr><th width="40%">Player / Team</th><th width="30%">Status</th><th width="30%">Return Date</th></tr></thead>
                    <tbody id="injuries-body"></tbody>
                </table>
            </div>
        </section>
        
        <section id="lineups" class="section-content">
            <h2 id="title-lineups">Lineups</h2>
            <p style="padding: 20px; color:#666;">Coming Soon with API...</p>
        </section>
    </main>

    <script>
        // --- 1. VERÄ° YAPILARI ---
        const teamsDB = {
            'LAL': { name: 'Lakers', color: '#552583', id: '1610612747' },
            'BOS': { name: 'Celtics', color: '#007A33', id: '1610612738' },
            'GSW': { name: 'Warriors', color: '#1D428A', id: '1610612744' },
            'PHX': { name: 'Suns', color: '#1D1160', id: '1610612756' },
            'MIA': { name: 'Heat', color: '#98002E', id: '1610612748' },
            'DEN': { name: 'Nuggets', color: '#0E2240', id: '1610612743' },
            'DAL': { name: 'Mavericks', color: '#00538C', id: '1610612742' },
            'PHI': { name: '76ers', color: '#006BB6', id: '1610612755' }
        };

        const contentDB = {
            en: {
                nav: { home: "Home", games: "Games", stats: "Statistics", injuries: "Injuries", lineups: "Lineups" },
                titles: { news: "Latest News", games: "Games & Odds", stats: "Statistics Leaders", injuries: "Injury Report", lineups: "Starting Lineups" },
                news: [
                    { title: "Embiid Drops 50 Points", desc: "The reigning MVP continues his dominance against Washington." },
                    { title: "Trade Rumors Intensify", desc: "Chicago Bulls are actively looking for trade partners." }
                ],
                labels: { prediction: "AI Model", win: "Win" }
            },
            tr: {
                nav: { home: "Ana Sayfa", games: "MaÃ§lar", stats: "Ä°statistikler", injuries: "SakatlÄ±klar", lineups: "Kadrolar" },
                titles: { news: "Son Haberler", games: "MaÃ§lar & Beklentiler", stats: "Ä°statistik Liderleri", injuries: "SakatlÄ±k Raporu", lineups: "Ä°lk 5'ler" },
                news: [
                    { title: "Embiid'den 50 SayÄ±", desc: "Son MVP, Washington karÅŸÄ±sÄ±nda dominasyonunu sÃ¼rdÃ¼rÃ¼yor." },
                    { title: "Takas DedikodularÄ± ArtÄ±yor", desc: "Chicago Bulls aktif olarak takas partneri arÄ±yor." }
                ],
                labels: { prediction: "YZ Modeli", win: "KazanÄ±r" }
            }
        };

        let currentLang = 'tr';

        // --- 2. MOCK API (VERÄ° SÄ°MÃœLASYONU) ---
        async function fetchNBAData(endpoint) {
            await new Promise(r => setTimeout(r, 200)); // Hafif gecikme

            if (endpoint === 'stats') {
                return {
                    PTS: [{ r: 1, n: "Joel Embiid", t: "PHI", v: 33.8, i: "203954" }, { r: 2, n: "Luka Doncic", t: "DAL", v: 32.9, i: "1629029" }],
                    AST: [{ r: 1, n: "Tyrese Haliburton", t: "IND", v: 12.0, i: "1630169" }, { r: 2, n: "Trae Young", t: "ATL", v: 10.8, i: "1629027" }],
                    REB: [{ r: 1, n: "Anthony Davis", t: "LAL", v: 12.6, i: "203076" }, { r: 2, n: "Nikola Jokic", t: "DEN", v: 12.3, i: "203999" }]
                };
            }
            if (endpoint === 'games') {
                return [
                    { id: 1, home: 'LAL', away: 'BOS', hS: 85, aS: 92 },
                    { id: 2, home: 'PHX', away: 'DAL', hS: 88, aS: 87 }
                ];
            }
            if (endpoint === 'injuries') {
                return [
                    { name: "Bradley Beal", team: "PHX", status: "Out", type: "Back", return: "Late Dec", code: "out" },
                    { name: "Kyrie Irving", team: "DAL", status: "Day-to-Day", type: "Heel", return: "Questionable", code: "dtd" },
                    { name: "Bam Adebayo", team: "MIA", status: "Out", type: "Hip", return: "Next Week", code: "out" }
                ];
            }
        }

        // --- 3. UYGULAMA MANTIÄžI ---
        document.addEventListener('DOMContentLoaded', () => {
            // GÃ¼venli baÅŸlatma
            initApp();
            
            // EÄŸer kod bir yerde hata verirse ekran takÄ±lmasÄ±n diye emniyet kilidi
            setTimeout(() => {
                const overlay = document.getElementById('intro-overlay');
                if(overlay && overlay.style.display !== 'none') {
                    overlay.style.opacity = '0';
                    setTimeout(() => { overlay.style.display = 'none'; }, 500);
                }
            }, 2500);
        });

        async function initApp() {
            await renderAll();
            await loadStats('PTS');
            
            // Veriler yÃ¼klendi, animasyonu kapat
            const overlay = document.getElementById('intro-overlay');
            overlay.style.opacity = '0';
            setTimeout(() => { overlay.style.display = 'none'; }, 500);
        }

        function nav(sectionId) {
            document.querySelectorAll('.section-content').forEach(el => el.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById('btn-' + sectionId).classList.add('active');
        }

        function toggleLang() {
            currentLang = currentLang === 'tr' ? 'en' : 'tr';
            renderAll();
            loadStats('PTS'); // Ä°statistik baÅŸlÄ±klarÄ± iÃ§in
        }

        async function renderAll() {
            const data = contentDB[currentLang];
            
            // Textler
            Object.keys(data.nav).forEach(k => document.getElementById('btn-'+k).innerText = data.nav[k]);
            Object.keys(data.titles).forEach(k => document.getElementById('title-'+k).innerText = data.titles[k]);

            // Haberler
            document.getElementById('news-container').innerHTML = data.news.map(n => 
                `<div class="news-card"><h3 style="margin-top:0">${n.title}</h3><p style="color:#ccc;margin:0">${n.desc}</p></div>`
            ).join('');

            // MaÃ§lar
            const games = await fetchNBAData('games');
            const gCon = document.getElementById('games-container');
            gCon.innerHTML = '';
            games.forEach(g => {
                if(!teamsDB[g.home] || !teamsDB[g.away]) return;
                const hT = teamsDB[g.home], aT = teamsDB[g.away];
                const hProb = Math.round(((g.hS + 3) / (g.hS + 3 + g.aS)) * 100);
                const pred = hProb > 50 ? `${hT.name} %${hProb}` : `${aT.name} %${100-hProb}`;
                const logo = id => `https://cdn.nba.com/logos/nba/${id}/primary/L/logo.svg`;

                gCon.innerHTML += `
                    <div class="game-card">
                        <div class="matchup-row">
                            <div class="team-block" style="background:${aT.color}"><div class="team-content"><img src="${logo(aT.id)}" class="team-logo"><b>${aT.name}</b></div></div>
                            <div class="vs-block">VS</div>
                            <div class="team-block" style="background:${hT.color}"><div class="team-content"><img src="${logo(hT.id)}" class="team-logo"><b>${hT.name}</b></div></div>
                        </div>
                        <div class="odds-row"><div class="prediction-badge">ðŸ¤– ${data.labels.prediction}: ${pred}</div></div>
                    </div>`;
            });

            // Injuries (YENÄ° KISIM)
            const injuries = await fetchNBAData('injuries');
            const injBody = document.getElementById('injuries-body');
            injBody.innerHTML = '';
            injuries.forEach(inj => {
                const badgeClass = inj.code === 'out' ? 'status-out blink' : 'status-dtd';
                const teamData = teamsDB[inj.team] || { color: '#333' }; // Renk yoksa gri
                
                injBody.innerHTML += `
                    <tr>
                        <td>
                            <div style="font-weight:bold; font-size:1.1rem">${inj.name}</div>
                            <div style="color:${teamData.color}; font-size:0.9rem">${inj.team} - ${teamData.name || inj.team}</div>
                        </td>
                        <td>
                            <span class="status-badge ${badgeClass}">${inj.status}</span>
                            <div class="injury-desc">${inj.type}</div>
                        </td>
                        <td style="color:#ddd">${inj.return}</td>
                    </tr>
                `;
            });
        }

        async function loadStats(cat) {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            event.target?.classList.add('active'); // null check

            const stats = (await fetchNBAData('stats'))[cat];
            const tbody = document.getElementById('stats-body');
            tbody.innerHTML = '';
            stats.forEach(p => {
                tbody.innerHTML += `
                    <tr>
                        <td style="color:#666; font-weight:bold;">${p.r}</td>
                        <td><div class="player-cell"><img src="https://cdn.nba.com/headshots/nba/latest/260x190/${p.i}.png" class="player-headshot" onerror="this.src='https://via.placeholder.com/40'"><span>${p.n}</span></div></td>
                        <td style="color:#aaa">${p.t}</td>
                        <td class="stat-value">${p.v}</td>
                    </tr>`;
            });
        }
    </script>
</body>
</html>